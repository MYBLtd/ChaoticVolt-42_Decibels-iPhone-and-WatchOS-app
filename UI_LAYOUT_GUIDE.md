# UI Layout Changes - Shield Status

## Before (1 Row)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ Shield Status                                    â— Live    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  ğŸ”‡    â”‚  â”‚  ğŸ“Š    â”‚  â”‚   ğŸ”Š     â”‚  â”‚    ğŸ“ˆ     â”‚         â”‚
â”‚  â”‚  Mute  â”‚  â”‚  Duck  â”‚  â”‚ Loudness â”‚  â”‚ Normalize â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## After (2 Rows) â­
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ Shield Status                                    â— Live    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 1: Core Audio Controls                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  ğŸ”‡    â”‚  â”‚  ğŸ“Š    â”‚  â”‚   ğŸ”Š     â”‚  â”‚    ğŸ“ˆ     â”‚         â”‚
â”‚  â”‚  Mute  â”‚  â”‚  Duck  â”‚  â”‚ Loudness â”‚  â”‚ Normalize â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â”‚  Row 2: DSP Processing  â­ NEW                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚  â†—ï¸    â”‚  â”‚     ğŸ”     â”‚                                   â”‚
â”‚  â”‚ Bypass â”‚  â”‚ Bass boost â”‚     [empty]     [empty]           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Status - Now Collapsed by Default â­

### Before (Expanded by default)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â„¹ï¸ Detailed Status                                       â–¼   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”Š Quantum Flavor        â”‚  âœ… Last Contact                   â”‚
â”‚     FULL                  â”‚     Just now                       â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”‰ System Volume                                              â”‚
â”‚     80%                                                         â”‚
â”‚     âš ï¸ Normalizer reducing ~20%                                â”‚
â”‚     âœ… Safe headroom active                                    â”‚
â”‚                                                                 â”‚
â”‚  âš¡ Energy Core                        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  100%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After (Collapsed by default)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â„¹ï¸ Detailed Status                                       â–¶   â”‚ â­
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (tap to expand)
```

## Shield Status Icon & Color Reference

### Row 1: Core Audio Controls
| Shield | Icon | Color | Function |
|--------|------|-------|----------|
| **Mute** | `speaker.slash.fill` | ğŸ”´ Red | Silence audio output |
| **Duck** | `waveform.path.badge.minus` | ğŸŸ  Orange | Reduce volume by âˆ’12 dB |
| **Loudness** | `speaker.wave.3` | ğŸ”µ Blue | Low-volume frequency compensation |
| **Normalize** | `waveform.path.ecg` | ğŸŸ¢ Green | Dynamic range compression |

### Row 2: DSP Processing â­ NEW
| Shield | Icon | Color | Function |
|--------|------|-------|----------|
| **Bypass** | `arrow.triangle.turn.up.right.circle` | ğŸŸ£ Purple | Bypass EQ processing |
| **Bass boost** | `waveform.badge.magnifyingglass` | ğŸŸ£ Indigo | Enhanced bass response |

## State Visualization

### Active State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â†—ï¸  (icon) â”‚  â† Icon in active color
â”‚   Bypass     â”‚  â† Text in active color
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Purple border
  Purple background (15% opacity)
```

### Inactive State
```
â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”
â”‚   â†—ï¸  (icon) â”‚  â† Icon in gray
â”‚   Bypass     â”‚  â† Text in gray
â”” â”€ â”€ â”€ â”€ â”€ â”€ â”˜
  Gray border (30% opacity)
  Clear background
```

## Interaction Flow

```
User taps "Bypass" pill
       â†“
Haptic feedback (light impact)
       â†“
Visual press animation (scale 0.98)
       â†“
BLE command sent: [0x08, 0x01]
       â†“
Device processes command
       â†“
GalacticStatus notification received
       â†“
UI updates (bit 4 checked)
       â†“
Pill shows active state (purple)
```

## Layout Properties

### Spacing
- Between rows: 12pt
- Between pills: 12pt
- Internal padding: 8pt vertical

### Sizing
- Pills: Equal width (maxWidth: .infinity)
- Height: Content-based (icon + text + padding)
- Corner radius: 8pt

### Grid Structure
```
HStack(spacing: 12) {
    Pill1  Pill2  Pill3  Pill4
}
â†“
HStack(spacing: 12) {
    Pill5  Pill6  Empty  Empty
}
```

### Responsive Behavior
- Pills expand equally to fill available width
- On smaller screens (iPhone SE), text may wrap
- Icons remain fixed size
- Minimum tap target: 44Ã—44pt (iOS HIG compliant)

## Accessibility

- âœ… VoiceOver labels: "Bypass, button, off" / "Bypass, button, on"
- âœ… Semantic colors with sufficient contrast
- âœ… Haptic feedback for state changes
- âœ… Info buttons with detailed descriptions
- âœ… Dynamic Type support (scales with text size)

## Animation

- State changes: `easeInOut(duration: 0.1)`
- Press effect: `scale(0.98)` with 0.1s duration
- Expansion/collapse: SwiftUI's default DisclosureGroup animation
- Live indicator: Smooth fade in/out with `.transition(.opacity)`
